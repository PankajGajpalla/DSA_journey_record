class Solution:
    def graphColoring(self, edges, m, n):
        
        adj = [[] for _ in range(n)]

        for u,v in edges:
            adj[u].append(v)
            adj[v].append(u)

        color = [0]*n

        def issafe(node, c):
            for neigh in adj[node]:
                if color[neigh] == c:
                    return False
                
            return True

        def solve(node):
            if node==n:
                return True
            
            for c in range(1, m+1):
                if issafe(node, c):
                    color[node] = c
                    if solve(node+1):
                        return True
                    color[node] = 0    #backtrack
            
            return False

        
        return solve(0)
