Intuition
âœ… Step-by-Step Execution:
ðŸ”¹ Initial Setup:
curr = root â†’ curr = 1

ðŸ” First Level (Level 0: just node 1)
dummy(0) created

tail = &dummy

Now scan the level:

curr = 1

curr->left = 2 â†’ connect: tail->next = 2, tail = 2

curr->right = 3 â†’ connect: tail->next = 3, tail = 3

curr = curr->next = NULL (end of level)

ðŸŒ± Now:

cpp
Copy
Edit
dummy â†’ 2 â†’ 3 â†’ NULL
Set curr = dummy.next = 2 (start of next level)

ðŸ”¹ Second Level (Level 1: nodes 2 â†’ 3)
dummy(0) created again

tail = &dummy

Now scan level 1:

curr = 2

curr->left = 4 â†’ connect: tail->next = 4, tail = 4

curr->right = 5 â†’ connect: tail->next = 5, tail = 5

curr = curr->next = 3

curr = 3

curr->left = NULL (skip)

curr->right = 7 â†’ connect: tail->next = 7, tail = 7

curr = curr->next = NULL (end of level)

ðŸŒ± Now:

cpp
Copy
Edit
dummy â†’ 4 â†’ 5 â†’ 7 â†’ NULL
Set curr = dummy.next = 4 (start of next level)

ðŸ”¹ Third Level (Level 2: nodes 4 â†’ 5 â†’ 7)
dummy(0) created again

tail = &dummy

Now scan level 2:

curr = 4

No children â†’ skip

curr = curr->next = 5

curr = 5

No children â†’ skip

curr = curr->next = 7

curr = 7

No children â†’ skip

curr = curr->next = NULL

dummy has no children this time â†’ dummy.next = NULL

Set curr = dummy.next = NULL â†’ end loop

âœ… Final next pointers:
1 â†’ NULL

2 â†’ 3 â†’ NULL

4 â†’ 5 â†’ 7 â†’ NULL

ðŸŽ‰ Done!

â± Time Complexity: O(N) â€” each node is visited once
ðŸ§  Space Complexity: O(1) â€” constant extra space (excluding recursion stack if used)

Code
/*
// Definition for a Node.
class Node {
public:
    int val;
    Node* left;
    Node* right;
    Node* next;

    Node() : val(0), left(NULL), right(NULL), next(NULL) {}

    Node(int _val) : val(_val), left(NULL), right(NULL), next(NULL) {}

    Node(int _val, Node* _left, Node* _right, Node* _next)
        : val(_val), left(_left), right(_right), next(_next) {}
};
*/

class Solution {
public:
    Node* connect(Node* root) {
        if(!root) return root;

        Node* curr = root;

        while(curr){
            Node* dummy = new Node(0);
            Node* tail = dummy;

            while(curr){
                if(curr->left){
                    tail->next = curr->left;
                    tail = tail->next;
                }
                if(curr->right){
                    tail->next = curr->right;
                    tail = tail->next;
                }
                curr = curr->next;
            }

            curr = dummy->next;
            delete(dummy);
        }

        return root;
    }
};

//ask chatgpt for step by step execution if you dont understand
